import { createClient } from '@supabase/supabase-js';
import dotenv from 'dotenv';

dotenv.config();

const supabase = createClient(
  process.env.VITE_SUPABASE_URL,
  process.env.VITE_SUPABASE_ANON_KEY
);

async function checkShowAddress() {
  console.log('üîç V√©rification de la colonne show_address...\n');

  // R√©cup√©rer une entreprise pour voir les colonnes
  const { data, error } = await supabase
    .from('businesses')
    .select('*')
    .limit(1)
    .single();

  if (error) {
    console.error('Erreur:', error);
    return;
  }

  console.log('Colonnes li√©es √† "show":');
  Object.keys(data).filter(k => k.includes('show')).forEach(col => {
    console.log(`  ${col}: ${data[col]}`);
  });

  if (Object.keys(data).includes('show_address')) {
    console.log('\n‚úÖ La colonne show_address existe d√©j√†');
  } else {
    console.log('\n‚ùå La colonne show_address n\'existe PAS - il faut l\'ajouter');
  }
}

checkShowAddress();
